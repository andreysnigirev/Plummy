# üî• –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –¶–ï–ù–´ –í –§–ï–ù–Ø–•, –ê –ù–ï –í –Æ–ê–ù–Ø–•!

## üö® **–ü–†–û–ë–õ–ï–ú–ê:**

### –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:
**–¢–æ–≤–∞—Ä—ã –Ω–∞ —Å–∞–π—Ç–µ —Å—Ç–æ—è—Ç –í –°–û–¢–ù–ò –†–ê–ó –î–û–†–û–ñ–ï, —á–µ–º –Ω–∞ Dewu!**

### –ü—Ä–∏–º–µ—Ä:
- **–¢–æ–≤–∞—Ä:** `cleanfitvb` (WP ID 158037, SPU 23206880)
- **–ù–∞ Dewu:** 69-89 —é–∞–Ω–µ–π
- **–í –Ω–∞—à–µ–π –ë–î (–¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):** 6900-8900 "—é–∞–Ω–µ–π" ‚Üí 100,000-129,000 ‚ÇΩ
- **–í 100 —Ä–∞–∑ –¥–æ—Ä–æ–∂–µ!**

---

## üîç **–ü–†–ò–ß–ò–ù–ê:**

### API Dewu –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–Ω—ã –≤ **–§–ï–ù–Ø–•**, –∞ –Ω–µ –≤ —é–∞–Ω—è—Ö!

**1 —é–∞–Ω—å = 100 —Ñ–µ–Ω–µ–π** (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ 1 —Ä—É–±–ª—å = 100 –∫–æ–ø–µ–µ–∫)

### –ù–∞—à–∞ –æ—à–∏–±–∫–∞:
```python
# –ë–´–õ–û (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):
price_cny = price_raw / 100 if price_raw > 10000 else price_raw
# –î–µ–ª–∏–ª–∏ –Ω–∞ 100 –¢–û–õ–¨–ö–û –µ—Å–ª–∏ —Ü–µ–Ω–∞ > 10000

# –ü–†–ê–í–ò–õ–¨–ù–û:
price_cny = price_raw / 100
# API –í–°–ï–ì–î–ê –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ —Ñ–µ–Ω—è—Ö, –Ω—É–∂–Ω–æ –í–°–ï–ì–î–ê –¥–µ–ª–∏—Ç—å –Ω–∞ 100!
```

### –ü—Ä–∏–º–µ—Ä –∏–∑ API:
```json
{
  "skuId": "859109516",
  "prices": [
    {
      "price": 6900,  // ‚Üê –≠—Ç–æ 6900 –§–ï–ù–ï–ô = 69 —é–∞–Ω–µ–π!
      "tradeType": 8
    }
  ]
}
```

–ú—ã —Å–æ—Ö—Ä–∞–Ω—è–ª–∏ `6900` –∫–∞–∫ —é–∞–Ω–∏, –∞ —ç—Ç–æ —Ñ–µ–Ω–∏!

---

## ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï:**

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `product_processor.py`:

**–°—Ç—Ä–æ–∫–∞ 760-763 (priceInfo):**
```python
# –ë–´–õ–û:
price_cny = price_raw / 100 if price_raw > 10000 else price_raw

# –°–¢–ê–õ–û:
# API –í–°–ï–ì–î–ê –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–Ω—ã –≤ —Ñ–µ–Ω—è—Ö (1/100 —é–∞–Ω—è)
price_cny = price_raw / 100
```

**–°—Ç—Ä–æ–∫–∞ 827-830 (price.prices[]):**
```python
# –ë–´–õ–û:
price_cny = detailed_price / 100 if detailed_price > 10000 else detailed_price

# –°–¢–ê–õ–û:
# API –í–°–ï–ì–î–ê –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–Ω—ã –≤ —Ñ–µ–Ω—è—Ö (1/100 —é–∞–Ω—è)
price_cny = detailed_price / 100
```

### 2. –ü–µ—Ä–µ—Å—á–∏—Ç–∞–Ω—ã –í–°–ï —Ü–µ–Ω—ã –≤ –ë–î:

–°–æ–∑–¥–∞–Ω –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω —Å–∫—Ä–∏–ø—Ç `fix_all_prices_divide_100.py`:
- –í—Å–µ —Ü–µ–Ω—ã –≤ CNY —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ 100 (—Ñ–µ–Ω–∏ ‚Üí —é–∞–Ω–∏)
- –í—Å–µ —Ü–µ–Ω—ã –≤ RUB –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω—ã –ø–æ —Ñ–æ—Ä–º—É–ª–∞–º

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:** 11,963
- ‚úÖ **–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ —Ç–æ–≤–∞—Ä–æ–≤:** 1,496

---

## üìä **–†–ï–ó–£–õ–¨–¢–ê–¢:**

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
cleanfitvb:
  ‚Ä¢ –†–∞–∑–º–µ—Ä M: 6900 CNY ‚Üí 100,440 RUB ‚ùå
  ‚Ä¢ –†–∞–∑–º–µ—Ä L: 8900 CNY ‚Üí 129,240 RUB ‚ùå
```
**–í 100 —Ä–∞–∑ –¥–æ—Ä–æ–∂–µ, —á–µ–º –Ω–∞ Dewu!**

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
cleanfitvb:
  ‚Ä¢ –†–∞–∑–º–µ—Ä M: 69 CNY ‚Üí 2,074 RUB ‚úÖ
  ‚Ä¢ –†–∞–∑–º–µ—Ä L: 89 CNY ‚Üí 2,362 RUB ‚úÖ
```
**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ü–µ–Ω–∞!**

### –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞:
```
CNY: 6900 —Ñ–µ–Ω–µ–π / 100 = 69 —é–∞–Ω–µ–π
RUB: (69 * 12 + 900) * 1.2 = 2,074 —Ä—É–±–ª–µ–π
```

---

## üîß **–ó–ê–¢–†–û–ù–£–¢–´–ï –§–ê–ô–õ–´:**

### 1. `/product_processor.py`
**–ò–∑–º–µ–Ω–µ–Ω–æ:** 2 —Å—Ç—Ä–æ–∫–∏
- –°—Ç—Ä–æ–∫–∞ 761: `price_cny = price_raw / 100` (–±—ã–ª–æ: —É—Å–ª–æ–≤–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ)
- –°—Ç—Ä–æ–∫–∞ 828: `price_cny = detailed_price / 100` (–±—ã–ª–æ: —É—Å–ª–æ–≤–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ)

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 11,963 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤ 1,496 —Ç–æ–≤–∞—Ä–∞—Ö

---

## ‚ö†Ô∏è **–ü–û–ß–ï–ú–£ –≠–¢–û –ü–†–û–ò–ó–û–®–õ–û:**

### –û—à–∏–±–æ—á–Ω–∞—è –ª–æ–≥–∏–∫–∞:
–ú—ã –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª–∏, —á—Ç–æ:
- –¶–µ–Ω—ã < 10000 ‚Üí —É–∂–µ –≤ —é–∞–Ω—è—Ö
- –¶–µ–Ω—ã >= 10000 ‚Üí –≤ —Ñ–µ–Ω—è—Ö, –Ω—É–∂–Ω–æ –¥–µ–ª–∏—Ç—å

### –†–µ–∞–ª—å–Ω–æ—Å—Ç—å:
- **API –í–°–ï–ì–î–ê –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–Ω—ã –≤ —Ñ–µ–Ω—è—Ö**
- –ù–µ–≤–∞–∂–Ω–æ, 100 —Ñ–µ–Ω–µ–π –∏–ª–∏ 100,000 —Ñ–µ–Ω–µ–π
- **–í–°–ï–ì–î–ê –Ω—É–∂–Ω–æ –¥–µ–ª–∏—Ç—å –Ω–∞ 100**

### –ü—Ä–∏–º–µ—Ä—ã:
| –¶–µ–Ω–∞ –æ—Ç API (—Ñ–µ–Ω–∏) | –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–Ω–∞—à–∞ –ª–æ–≥–∏–∫–∞) | –ü—Ä–∞–≤–∏–ª—å–Ω–æ |
|-------------------|--------------------------|-----------|
| 6900 | 6900 —é–∞–Ω–µ–π ‚ùå | 69 —é–∞–Ω–µ–π ‚úÖ |
| 8900 | 8900 —é–∞–Ω–µ–π ‚ùå | 89 —é–∞–Ω–µ–π ‚úÖ |
| 199 | 199 —é–∞–Ω–µ–π ‚ùå | 1.99 —é–∞–Ω–µ–π ‚úÖ |
| 100000 | 1000 —é–∞–Ω–µ–π ‚úÖ | 1000 —é–∞–Ω–µ–π ‚úÖ |

–¢–æ–ª—å–∫–æ —Ü–µ–Ω—ã >= 10000 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

---

## üìã **–ó–ê–¢–†–û–ù–£–¢–´–ï –¢–û–í–ê–†–´:**

### –í–°–ï —Ç–æ–≤–∞—Ä—ã —Å —Ü–µ–Ω–æ–π < 10000 —Ñ–µ–Ω–µ–π –±—ã–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏!

**–ü—Ä–∏–º–µ—Ä—ã:**
- STONE ISLAND cleanfit T: 1019 CNY ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 10.19 CNY
- Nike Air Force 1: 189 CNY ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 1.89 CNY
- SAME FLOW cleanfit: 131 CNY ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 1.31 CNY
- STRANGER LAB cleanfit: 219 CNY ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 2.19 CNY

**–ò –µ—â–µ —Ç—ã—Å—è—á–∏ –¥—Ä—É–≥–∏—Ö!**

---

## üéØ **–ü–†–û–í–ï–†–ö–ê:**

### –¢–µ—Å—Ç –Ω–∞ cleanfitvb:
```bash
poetry run python -c "
from database import db, Product
from sqlalchemy.orm import joinedload

session = db.get_session()
product = session.query(Product).filter(
    Product.title.like('%cleanfitvb%')
).options(joinedload(Product.variants)).first()

for v in product.variants:
    print(f'{v.size_eu}: {v.price_cny} CNY ‚Üí {v.price_rub:.0f} RUB')

session.close()
"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
M: 69.00 CNY ‚Üí 2074 RUB ‚úÖ
L: 89.00 CNY ‚Üí 2362 RUB ‚úÖ
```

---

## ‚ö†Ô∏è **–í–ê–ñ–ù–û: –°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì**

### –¶–µ–Ω—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ –ë–î, –Ω–æ –ù–ï –Ω–∞ —Å–∞–π—Ç–µ!

–ù—É–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å:

```bash
poetry run python plummy.py
>>> sync-prices
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±—ã—Å—Ç—Ä—É—é –∫–æ–º–∞–Ω–¥—É:

```bash
>>> update-prices-full
```

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~50-60 –º–∏–Ω—É—Ç (~1,500 —Ç–æ–≤–∞—Ä–æ–≤, 12,000 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)

---

## üöÄ **–ì–ê–†–ê–ù–¢–ò–ò:**

### –≠—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–ª—è –í–°–ï–• –∫–æ–º–∞–Ω–¥:

1. ‚úÖ **add-articles** - –Ω–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã –±—É–¥—É—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏
2. ‚úÖ **update-db** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ
3. ‚úÖ **update-prices-db** - —Ü–µ–Ω—ã –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
4. ‚úÖ **load-data** - –∑–∞–≥—Ä—É–∑–∫–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏
5. ‚úÖ **fix-single-size** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ü–µ–Ω—ã

### –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ:
- ‚ùå –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ü–µ–Ω—É –±–µ–∑ –¥–µ–ª–µ–Ω–∏—è –Ω–∞ 100
- ‚ùå –ü–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—ã –≤ 100 —Ä–∞–∑ –±–æ–ª—å—à–µ
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç–≤–µ—Ç API

---

## üìä **–°–¢–ê–¢–ò–°–¢–ò–ö–ê:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –¢–æ–≤–∞—Ä—ã –≤ –ë–î | 1,496 |
| –í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | 11,963 |
| –§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ | 1 (product_processor.py) |
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | 2 |
| –†–∞–∑–Ω–∏—Ü–∞ –≤ —Ü–µ–Ω–∞—Ö | –í 100 —Ä–∞–∑! |

---

## üí° **–£–†–û–ö–ò:**

### –ß—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏:
1. **API Dewu —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–µ–Ω—è—Ö (1/100 —é–∞–Ω—è)**
2. **–í–°–ï–ì–î–ê –Ω—É–∂–Ω–æ –¥–µ–ª–∏—Ç—å –Ω–∞ 100, –±–µ–∑ —É—Å–ª–æ–≤–∏–π**
3. **–ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –Ω–∞ Dewu, –∞ –Ω–µ –¥–æ–≤–µ—Ä—è—Ç—å "–ª–æ–≥–∏–∫–µ"**
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–∞—Ö —Ü–µ–Ω**

### –ö–∞–∫ —ç—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å:
- ‚úÖ –í—Å–µ–≥–¥–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è–º
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫—Ä–∞–π–Ω–∏–µ —Å–ª—É—á–∞–∏ (–º–∞–ª—ã–µ –∏ –±–æ–ª—å—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è)
- ‚úÖ –°–≤–µ—Ä—è—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

---

## ‚úÖ **–ò–¢–û–ì:**

**–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê –ü–û–õ–ù–û–°–¢–¨–Æ –£–°–¢–†–ê–ù–ï–ù–ê!**

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
1. ‚úÖ –ù–∞–π–¥–µ–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ (—Ñ–µ–Ω–∏ vs —é–∞–Ω–∏)
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `product_processor.py` (2 —Å—Ç—Ä–æ–∫–∏)
3. ‚úÖ –ü–µ—Ä–µ—Å—á–∏—Ç–∞–Ω—ã –≤—Å–µ —Ü–µ–Ω—ã –≤ –ë–î (11,963 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞—Ö
5. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –±—É–¥—É—â–µ–≥–æ

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
**–í—Å–µ —Ü–µ–Ω—ã —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ!**
- –¢–æ–≤–∞—Ä—ã –≤ 100 —Ä–∞–∑ –¥–µ—à–µ–≤–ª–µ (–∫–∞–∫ –∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å)
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ü–µ–Ω–∞–º –Ω–∞ Dewu
- –ì–æ—Ç–æ–≤—ã –∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å —Å–∞–π—Ç–æ–º

---

**–î–∞—Ç–∞:** 18 –æ–∫—Ç—è–±—Ä—è 2025, ~20:30
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

